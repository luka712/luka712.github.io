<!DOCTYPE html><html lang="en-us"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Diffusion-limited-growth and Brownian trees | luka712 blog</title><meta name="description" content="Simple implementation of diffusion limited growth ( aggregation)"><meta name="generator" content="luka712 blog"><meta name="author" content="Luka Erkapic"><meta name="keywords" content="sjaak van den berg, svdb, bitcoin, crypto, payment, integration, bitcoins, wordpress, betaling, webshop, front end, design, ontwerp, developer"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="/styles/screen.css"><link rel="stylesheet" type="text/css" href="/styles/style.css"><link rel="apple-touch-icon" sizes="57x57" href="/images/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/images/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/images/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/images/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/images/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/images/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png"><link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160x160.png"><link rel="icon" type="image/png" sizes="192x192" href="/images/favicon-192x192.png"><meta name="msapplication-TileColor" content="#121315"><meta name="msapplication-TileImage" content="/images/mstile-144x144.png"></head><body itemscope itemtype="https://schema.org/WebPage" onload="onLoad()"><header itemscope itemtype="https://schema.org/WPHeader"><h1><a href="/" alt="luka712 blog" title="luka712 blog" itemprop="headline" class="header">luka712 blog</a></h1><p itemprop="description"></p><nav itemscope itemtype="https://schema.org/SiteNavigationElement"><ul><li itemprop="name"><a href="/" alt="Home" title="Home" itemprop="url" class="header">Home</a></li><li itemprop="name"><a href="/About" alt="About" title="About" itemprop="url" class="header">About</a></li></ul></nav><div id="render-space"><canvas id="render-canvas"></canvas></div></header><main itemscope itemtype="https://schema.org/Blog"><article class="full"><h1 itemprop="headline">Diffusion-limited-growth and Brownian trees</h1><span class="post-meta">Published on<time itemprop="datePublished" datetime="2019-07-19T23:32:08.000Z"> Saturday, July 20th 2019 at 1:32</time><br>Last updated on<time itemprop="dateModified" datetime="2019-07-19T23:32:08.000Z"> Thursday, August 1st 2019 at 21:44</time></span><p>Good introduction to this post, would be just to start with definition of <a href="https://en.wikipedia.org/wiki/Diffusion-limited_aggregation#Brownian_tree" target="_blank" rel="noopener">Brownian trees</a>. Using <a href="https://en.wikipedia.org/wiki/Diffusion-limited_aggregation#Brownian_tree" target="_blank" rel="noopener">wikipedia article</a> as source, it is a mathematical model of dendritic structure associated with the physical process known as diffusion-limited aggregation.</p>
<p>Next question would be, what is a <a href="https://en.wikipedia.org/wiki/Dendrite_(crystal" target="_blank" rel="noopener">dentritic structure</a>)? Well simply put, it is a formation with tree like, multibranching form. For example it is often found in nature, in things such as ice, snowflakes, plants etc…</p>
<p>There is nice article about <a href="https://en.wikipedia.org/wiki/Brownian_motion" target="_blank" rel="noopener">Brownian motion</a> but for purposes of this article, it is just a random motion. Random motion, as a direction of movement whivh can be decided with a flip of a coin so to speak. For example, head might be step left, tails step right. </p>
<p>As for <strong>Diffuse limited growth</strong> what it really means, is, diffused as in, not fused. <strong>Limited growth</strong> is saying, that there is actually some growth. After this post and example, this will become quite clear, what kind of growth.</p>
<p>By the end of post, your code should be able to generate shapes such as this</p>
<p><img src="/images/14/image1.png" style="width:50%"></p>
<p>It’s probably better to see it in motion.</p>
<canvas id="render-canvas-diffusion-limited-growth-example" width="800" height="600"></canvas>

<h5 id="Brownian-motions"><a href="#Brownian-motions" class="headerlink" title="Brownian motions"></a>Brownian motions</h5><p>Starting point would be just some code that draws particles and initializes bunch of them. I’m not going to explain canvas element and 2d drawing context of canvas, that’s outside of scope of this post. Also note that I’m using newer ecmascript features, so you might want to update browser or use transpiler to transpile to older ecmascript version.</p>
<p>Anway, starting code is </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"</span>&gt;</span><span class="undefined">s</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"render-canvas"</span> <span class="attr">width</span>=<span class="string">"800"</span> <span class="attr">height</span>=<span class="string">"600"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> STEP_SIZE = <span class="number">2</span>,</span><br><span class="line">        RADIUS = <span class="number">3</span>,</span><br><span class="line">        PARTICLE_NUM = <span class="number">3000</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"render-canvas"</span>);</span><br><span class="line">    <span class="keyword">const</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Particle</span> </span>&#123;</span><br><span class="line">        <span class="keyword">constructor</span>(x, y) &#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x;</span><br><span class="line">            <span class="keyword">this</span>.y = y;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        draw() &#123;</span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.arc(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y, RADIUS, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.fill();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> particles = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; PARTICLE_NUM; i++) &#123;</span><br><span class="line">        particles.push(</span><br><span class="line">            <span class="keyword">new</span> Particle(<span class="built_in">Math</span>.random() * canvas.width, <span class="built_in">Math</span>.random() * canvas.height)</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        ctx.fillStyle = <span class="string">"white"</span>;</span><br><span class="line">        ctx.fillRect(<span class="number">0</span>, <span class="number">0</span>, canvas.width, canvas.height);</span><br><span class="line">        ctx.fillStyle = <span class="string">"black"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; PARTICLE_NUM; i++) &#123;</span><br><span class="line">            particles[i].draw();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        requestAnimationFrame(draw);</span><br><span class="line">    &#125;</span><br><span class="line">    draw();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>There isn’t much here, just some code for drawing and initializing particles. And of course calls to create 2d drawing context of canvas element.</p>
<p>First step then is to add random motion. This can easily be done by creating a step function that’s going to decide direction, by flip of a coin. For example head might be move left, tails move right. Of course, there is a condition of a no motion. It’s best to model it with some randomness. Add following function to Particle class.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">step() &#123;</span><br><span class="line">        <span class="keyword">const</span> r = <span class="built_in">Math</span>.random() * <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">if</span> (r &gt; <span class="number">2</span>) <span class="keyword">return</span> STEP_SIZE;</span><br><span class="line">        <span class="keyword">if</span> (r &gt; <span class="number">1</span>) <span class="keyword">return</span> -STEP_SIZE;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>Step just returns 1,-1 or 0 based on random number size. Next step is to change position of particle on screen. So add another function called move, which changes x and y position.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">move() &#123;</span><br><span class="line">       <span class="keyword">this</span>.x += <span class="keyword">this</span>.step();</span><br><span class="line">       <span class="keyword">this</span>.y += <span class="keyword">this</span>.step();</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>.x &gt; canvas.width) &#123;</span><br><span class="line">           <span class="keyword">this</span>.x = canvas.width;</span><br><span class="line">       &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.x &lt; <span class="number">0</span>) &#123;</span><br><span class="line">           <span class="keyword">this</span>.x = <span class="number">0</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>.y &gt; canvas.height) &#123;</span><br><span class="line">           <span class="keyword">this</span>.y = canvas.height;</span><br><span class="line">       &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.y &lt; <span class="number">0</span>) &#123;</span><br><span class="line">           <span class="keyword">this</span>.y = <span class="number">0</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>Move function moves x and y position based on step. I have also added code for clamping particles on screen, since it would be weird for particles to go somewhere of screen.</p>
<p>Now just call move function, add following code iniside a draw function.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; PARTICLE_NUM; i++) &#123;</span><br><span class="line">    particles[i].move();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>By doing that you should have following on screen.</p>
<canvas id="render-canvas-diffusion-limited-growth-move" width="800" height="600"><br></canvas>

<h5 id="Limited-Aggregation"><a href="#Limited-Aggregation" class="headerlink" title="Limited Aggregation"></a>Limited Aggregation</h5><p>Limited aggregation is just that, aggregation which is limited, in this case by attaching one particle at a time. It’s probably easier to code it and show it, rather then trying to explain it. I’m going to reference some material at the end of this post for further read.</p>
<p>Anyway, to aggregate particles, we’re going to have single sticky particle. If other particles touch that particle, they stop moving, become sticky, so that other particles can attach to that one.</p>
<p>So to start we need stick property for <strong>Particle</strong>.</p>
<p>Change constructor of <strong>Particle</strong> class to.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">constructor</span>(x, y, stick) &#123;</span><br><span class="line">           <span class="keyword">this</span>.x = x;</span><br><span class="line">           <span class="keyword">this</span>.y = y;</span><br><span class="line">           <span class="keyword">this</span>.stick = stick;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<p>Also we need some way to check for collision between particles, I will be using circle collision here.<br>Add this method to a <strong>Particle</strong> class. </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">collide(particle) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.stick || particle.stick) &#123;</span><br><span class="line">        <span class="keyword">const</span> dx = particle.x - <span class="keyword">this</span>.x;</span><br><span class="line">        <span class="keyword">const</span> dy = particle.y - <span class="keyword">this</span>.y;</span><br><span class="line">        <span class="keyword">const</span> distance = <span class="built_in">Math</span>.sqrt(dx * dx + dy * dy);</span><br><span class="line">        <span class="keyword">if</span> (distance &lt; RADIUS * <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.stick = <span class="literal">true</span>;</span><br><span class="line">            particle.stick = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Circle collision is outside of scope of this post, but you can check how it works <a href="http://kishimotostudios.com/articles/circle_collision/" target="_blank" rel="noopener">here</a>. It just checks if distance between two objects is less then sum of their radius.</p>
<p>Change code where <strong>move</strong> is called, to check for collisions </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; PARTICLE_NUM; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = i + <span class="number">1</span>; j &lt; PARTICLE_NUM; j++) &#123;</span><br><span class="line">        particles[i].collide(particles[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    particles[i].move();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Stop particle movement with stick property </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">move() &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.stick) <span class="keyword">return</span>;</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>And finally, we need a particle with stick true property, add this just before particles are created </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fixedParticle = <span class="keyword">new</span> Particle(canvas.width / <span class="number">2</span>, canvas.height / <span class="number">2</span>);</span><br><span class="line">fixedParticle.stick = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">const</span> particles = [fixedParticle];</span><br></pre></td></tr></table></figure>
<p>Notices that particles array definition now takes single particle.</p>
<p>And that final code, you should have the following on screen.</p>
<canvas id="render-canvas-diffusion-limited-growth-move-final" width="800" height="600"><br></canvas>

<p>As for further reading about the topic I recommend this <a href="http://paulbourke.net/fractals/dla/" target="_blank" rel="noopener">article</a> by Paul Burke, checking this <a href="https://www.youtube.com/watch?v=Cl_Gjj80gPE" target="_blank" rel="noopener">video</a> on Nature of Code Youtube channel, or if you’re interested in similar topics maybe checking this [book] by William Gary Flake(<a href="https://www.amazon.com/Computational-Beauty-Nature-Explorations-Adaptation-ebook/dp/B00MHAV10O)" target="_blank" rel="noopener">https://www.amazon.com/Computational-Beauty-Nature-Explorations-Adaptation-ebook/dp/B00MHAV10O)</a>, where I first encountered Diffusion Limited Aggregation.</p>
<p>I am leaving more optimized code of same algorithm on <a href="https://codepen.io/luka712/pen/mNyNKZ" target="_blank" rel="noopener">Codepen page</a>.</p>

<script>
function diffusionLimitedGrowthModuleExample(a){function b(){f.fillStyle="white",f.fillRect(0,0,e.width,e.height),f.fillStyle="black";for(let a=0;5>a;a++)for(let a=0;a<c;a++){for(let b=a+1;b<c;b++)h[a].collide(h[b]);h[a].move()}for(let a=0;a<c;a++)h[a].draw();requestAnimationFrame(b)}const c=3e3;class d{constructor(a,b){this.x=a,this.y=b,this.stick=!1}collide(a){if(this.stick||a.stick){const b=a.x-this.x,c=a.y-this.y;b*b+c*c<Math.pow(6,2)&&(this.stick=!0,a.stick=!0)}}step(){const a=3*Math.random();return 2<a?2:1<a?-2:0}move(){this.stick||(this.x+=this.step(),this.y+=this.step(),this.x>e.width?this.x=e.width:0>this.x&&(this.x=0),this.y>e.height?this.y=e.height:0>this.y&&(this.y=0))}draw(){f.beginPath(),f.arc(this.x,this.y,3,0,2*Math.PI),f.closePath(),f.fill()}}const e=document.getElementById(a),f=e.getContext("2d"),g=new d(e.width/2,e.height/2);g.stick=!0;const h=[g];for(let b=0;b<c;b++)h.push(new d(Math.random()*e.width,Math.random()*e.height));b()}

function diffusionLimitedGrowthMoveModule(a){function b(){e.fillStyle="white",e.fillRect(0,0,d.width,d.height),e.fillStyle="black";for(let a=0;a<c;a++)g[a].move();for(let a=0;a<c;a++)g[a].draw();requestAnimationFrame(b)}const c=3e3,d=document.getElementById(a),e=d.getContext("2d");class f{constructor(a,b){this.x=a,this.y=b}step(){const a=3*Math.random();return 2<a?2:1<a?-2:0}move(){this.x+=this.step(),this.y+=this.step(),this.x>d.width?this.x=d.width:0>this.x&&(this.x=0),this.y>d.height?this.y=d.height:0>this.y&&(this.y=0)}draw(){e.beginPath(),e.arc(this.x,this.y,3,0,2*Math.PI),e.closePath(),e.fill()}}const g=[];for(let b=0;b<c;b++)g.push(new f(Math.random()*d.width,Math.random()*d.height));b()}

function diffusionLimitedGrowthFinalModule(a){function b(){f.fillStyle="white",f.fillRect(0,0,e.width,e.height),f.fillStyle="black";for(let a=0;a<c;a++){for(let b=a+1;b<c;b++)h[a].collide(h[b]);h[a].move()}for(let a=0;a<c;a++)h[a].draw();requestAnimationFrame(b)}const c=3e3;class d{constructor(a,b){this.x=a,this.y=b,this.stick=!1}collide(a){if(this.stick||a.stick){const b=a.x-this.x,c=a.y-this.y,d=Math.sqrt(b*b+c*c);d<6&&(this.stick=!0,a.stick=!0)}}step(){const a=3*Math.random();return 2<a?2:1<a?-2:0}move(){this.stick||(this.x+=this.step(),this.y+=this.step(),this.x>e.width?this.x=e.width:0>this.x&&(this.x=0),this.y>e.height?this.y=e.height:0>this.y&&(this.y=0))}draw(){f.beginPath(),f.arc(this.x,this.y,3,0,2*Math.PI),f.closePath(),f.fill()}}const e=document.getElementById(a),f=e.getContext("2d"),g=new d(e.width/2,e.height/2);g.stick=!0;const h=[g];for(let b=0;b<c;b++)h.push(new d(Math.random()*e.width,Math.random()*e.height));b()}


window.addEventListener("load", function(){
    diffusionLimitedGrowthModuleExample("render-canvas-diffusion-limited-growth-example");
    diffusionLimitedGrowthMoveModule("render-canvas-diffusion-limited-growth-move")
    diffusionLimitedGrowthFinalModule("render-canvas-diffusion-limited-growth-move-final");
});

</script>
</article></main><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/babylonjs/3.3.0-alpha.12/babylon.js"></script><script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.js"></script><script src="https://cdn.jsdelivr.net/npm/babylonjs-gui@3.3.0/babylon.gui.min.js"></script><script src="/scripts/index.js" type="text/javascript"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
e=o.createElement(i);r=o.getElementsByTagName(i)[0];
e.src='//www.google-analytics.com/analytics.js';
r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-121717766-1');ga('send','pageview');</script></body></html>